{"ast":null,"code":"var _jsxFileName = \"/Users/sychen/thesis-app/packages/react-app/src/components/Pages/StakePage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Jumbotron from '../Jumbotron';\nimport styled from 'styled-components';\nimport { ethers } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { RINKEBY_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nimport { render } from \"@testing-library/react\";\nexport default function StakePage() {\n  const [policies, setPolicies] = useState(0);\n  useEffect(() => {\n    const getPolicies = async () => {\n      let policy, summary;\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider);\n      const policies = await policyFactoryContract.getDeloyedPolicies();\n      const allPolicies = await Promise.all(policies.map((address, index) => {\n        policy = new Contract(address, abis.policy, provider);\n        return policy.getSummary();\n      }));\n      setPolicies(allPolicies);\n    };\n\n    getPolicies();\n  }, []);\n\n  function renderList(policies) {\n    if (policies == 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 20\n        }\n      }, \"Loading...\");\n    }\n\n    return Object.values(policies).map((element, idx) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"column\",\n        key: idx,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ui segments\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ui segment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 29\n        }\n      }, element[0]), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 29\n        }\n      }, \"Insurance Type: \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          float: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 48\n        }\n      }, element[1])), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 29\n        }\n      }, \"Stacked: \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          float: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 41\n        }\n      }, element[6].toString()), \" SYC\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 29\n        }\n      }, \"Insurance Content: \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          float: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 51\n        }\n      }, element[2])), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"positive ui fluid green button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 29\n        }\n      }, \"Stake\"))));\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    title: \"Stake\",\n    description: \"Earn rewards by staking SYC on policies you want to engage.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui three column grid\",\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, renderList(policies)));\n}","map":{"version":3,"sources":["/Users/sychen/thesis-app/packages/react-app/src/components/Pages/StakePage.js"],"names":["React","useState","useEffect","Jumbotron","styled","ethers","Contract","RINKEBY_ID","addresses","abis","render","StakePage","policies","setPolicies","getPolicies","policy","summary","provider","providers","Web3Provider","window","ethereum","policyFactoryContract","policyFactory","getDeloyedPolicies","allPolicies","Promise","all","map","address","index","getSummary","renderList","Object","values","element","idx","float","toString","marginTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Jumbotron from '../Jumbotron';\nimport styled from 'styled-components';\nimport { ethers } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { RINKEBY_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nimport { render } from \"@testing-library/react\";\n\n\nexport default function StakePage() {\n    const [policies, setPolicies] = useState(0);\n\n    useEffect(() => {\n        const getPolicies = async () => {\n            let policy, summary;\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\n            const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider);\n            const policies = await policyFactoryContract.getDeloyedPolicies();\n\n            const allPolicies = await Promise.all(\n                policies\n                    .map((address, index) => {\n                        policy = new Contract(address, abis.policy, provider);\n                        return policy.getSummary();\n                    }));\n\n            setPolicies(allPolicies);\n        }\n        getPolicies();\n    }, []);\n\n    function renderList(policies) {\n        if (policies == 0) {\n            return <div>Loading...</div>\n        }\n        return Object.values(policies).map((element, idx) => {\n            return (\n                <div className=\"column\" key={idx}>\n                    <div className=\"ui segments\">\n                        <div className=\"ui segment\">\n                            <h4>{element[0]}</h4>\n                            <p>Insurance Type: <span style={{float: 'right'}}>{element[1]}</span></p>\n                            <p>Stacked: <span style={{float: 'right'}}>{element[6].toString()}</span> SYC</p>\n                            <p>Insurance Content: <span style={{float: 'right'}}>{element[2]}</span></p>\n                            <button className=\"positive ui fluid green button\">Stake</button>\n                        </div>\n                    </div>\n                </div>\n            );\n        })\n\n    }\n\n\n    return (\n        <div>\n            <Jumbotron\n                title=\"Stake\"\n                description=\"Earn rewards by staking SYC on policies you want to engage.\" />\n            <div className=\"ui three column grid\" style={{ marginTop: \"20px\" }}>\n                {renderList(policies)}\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}