{"ast":null,"code":"var _jsxFileName = \"/Users/sychen/thesis-app/packages/react-app/src/components/Pages/StakePage.js\";\nimport React from \"react\";\nimport Jumbotron from '../Jumbotron';\nimport styled from 'styled-components';\nimport { ethers } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { RINKEBY_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nexport default function StakePage() {\n  async function getPolicies() {\n    let policy, name, content, premium, duration, proposer;\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider);\n    const policies = await policyFactoryContract.getDeloyedPolicies();\n    const item = policies.map(async (address, idx) => {\n      policy = new Contract(address, abis.policy, provider);\n      name = await policy.policyName();\n      content = await policy.policyContent();\n      premium = await policy.policyPremium();\n      duration = await policy.policyDuration();\n      proposer = await policy.policyProposer();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"column\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"segment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 21\n        }\n      }, name));\n    });\n    return item;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    title: \"Stake\",\n    description: \"Earn rewards by staking SYC on policies you want to engage.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui three column grid\",\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, getPolicies));\n}","map":{"version":3,"sources":["/Users/sychen/thesis-app/packages/react-app/src/components/Pages/StakePage.js"],"names":["React","Jumbotron","styled","ethers","Contract","RINKEBY_ID","addresses","abis","StakePage","getPolicies","policy","name","content","premium","duration","proposer","provider","providers","Web3Provider","window","ethereum","policyFactoryContract","policyFactory","policies","getDeloyedPolicies","item","map","address","idx","policyName","policyContent","policyPremium","policyDuration","policyProposer","marginTop"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,QAAT,QAAyB,0BAAzB;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,IAAhC,QAA4C,2BAA5C;AAIA,eAAe,SAASC,SAAT,GAAqB;AAEhC,iBAAeC,WAAf,GAA6B;AACzB,QAAIC,MAAJ,EAAYC,IAAZ,EAAkBC,OAAlB,EAA2BC,OAA3B,EAAoCC,QAApC,EAA8CC,QAA9C;AACA,UAAMC,QAAQ,GAAG,IAAIb,MAAM,CAACc,SAAP,CAAiBC,YAArB,CAAkCC,MAAM,CAACC,QAAzC,CAAjB;AACA,UAAMC,qBAAqB,GAAG,IAAIjB,QAAJ,CAAaE,SAAS,CAACD,UAAD,CAAT,CAAsBiB,aAAnC,EAAkDf,IAAI,CAACe,aAAvD,EAAsEN,QAAtE,CAA9B;AACA,UAAMO,QAAQ,GAAG,MAAMF,qBAAqB,CAACG,kBAAtB,EAAvB;AACA,UAAMC,IAAI,GAAIF,QAAQ,CAACG,GAAT,CAAa,OAAOC,OAAP,EAAgBC,GAAhB,KAAwB;AAC/ClB,MAAAA,MAAM,GAAG,IAAIN,QAAJ,CAAauB,OAAb,EAAsBpB,IAAI,CAACG,MAA3B,EAAmCM,QAAnC,CAAT;AACAL,MAAAA,IAAI,GAAG,MAAMD,MAAM,CAACmB,UAAP,EAAb;AACAjB,MAAAA,OAAO,GAAG,MAAMF,MAAM,CAACoB,aAAP,EAAhB;AACAjB,MAAAA,OAAO,GAAG,MAAMH,MAAM,CAACqB,aAAP,EAAhB;AACAjB,MAAAA,QAAQ,GAAG,MAAMJ,MAAM,CAACsB,cAAP,EAAjB;AACAjB,MAAAA,QAAQ,GAAG,MAAML,MAAM,CAACuB,cAAP,EAAjB;AACA,0BACI;AAAK,QAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKtB,IADL,CADJ,CADJ;AAOH,KAda,CAAd;AAeA,WAAOc,IAAP;AACH;;AACD,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AACA,IAAA,KAAK,EAAC,OADN;AAEA,IAAA,WAAW,EAAC,6DAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAII;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAsC,IAAA,KAAK,EAAE;AAAES,MAAAA,SAAS,EAAE;AAAb,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKzB,WADL,CAJJ,CADJ;AAUH","sourcesContent":["import React from \"react\";\nimport Jumbotron from '../Jumbotron';\nimport styled from 'styled-components';\nimport { ethers } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { RINKEBY_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\n\n\n\nexport default function StakePage() {\n\n    async function getPolicies() {\n        let policy, name, content, premium, duration, proposer;\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider);\n        const policies = await policyFactoryContract.getDeloyedPolicies();\n        const item =  policies.map(async (address, idx) => {\n            policy = new Contract(address, abis.policy, provider);\n            name = await policy.policyName();\n            content = await policy.policyContent();\n            premium = await policy.policyPremium();\n            duration = await policy.policyDuration();\n            proposer = await policy.policyProposer();\n            return (\n                <div class=\"column\">\n                    <div className=\"segment\">\n                        {name}\n                    </div>\n                </div>\n            )    \n        }); \n        return item\n    }\n    return (\n        <div>\n            <Jumbotron \n            title=\"Stake\" \n            description=\"Earn rewards by staking SYC on policies you want to engage.\" />\n            <div className=\"ui three column grid\" style={{ marginTop: \"20px\" }}>\n                {getPolicies}\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}