{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sychen/thesis-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sychen/thesis-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sychen/thesis-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Contract}from\"@ethersproject/contracts\";import{RINKEBY_ID,addresses,abis}from\"@uniswap-v2-app/contracts\";import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Paper from'@material-ui/core/Paper';import Box from'@material-ui/core/Box';import Grid from'@material-ui/core/Grid';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import{ethers}from\"ethers\";// import FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\nimport FacebookLogin from'react-facebook-login';var useStyles=makeStyles(function(theme){return{root:{height:'100vh'},image:{backgroundImage:'url(https://source.unsplash.com/1600x900/?ethereum)',backgroundRepeat:'no-repeat',backgroundColor:theme.palette.type==='light'?theme.palette.grey[50]:theme.palette.grey[900],backgroundSize:'cover',backgroundPosition:'center'},paper:{margin:theme.spacing(8,4),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});export default function SignInSide(){var classes=useStyles();var provider=new ethers.providers.Web3Provider(window.ethereum);var _useState=useState('Please connect to Metamask'),_useState2=_slicedToArray(_useState,2),account=_useState2[0],setAccount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),login=_useState4[0],setLogin=_useState4[1];var _useState5=useState({id:'',name:''}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),open=_useState10[0],setOpen=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),refcode=_useState12[0],setRefcode=_useState12[1];var responseFacebook=function responseFacebook(response){setData(response);if(response.accessToken){setLogin(true);}else{setLogin(false);}};useEffect(function(){function getAccount(){return _getAccount.apply(this,arguments);}function _getAccount(){_getAccount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var signer,account,balance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:signer=provider.getSigner();_context.next=3;return signer.getAddress();case 3:account=_context.sent;_context.next=6;return provider.getBalance(account);case 6:balance=_context.sent;setAccount(account);case 8:case\"end\":return _context.stop();}}},_callee);}));return _getAccount.apply(this,arguments);}getAccount();},[]);function Refcode(){return _Refcode.apply(this,arguments);}function _Refcode(){_Refcode=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var refcode,provider,signer,registryContract;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);provider=new ethers.providers.Web3Provider(window.ethereum);signer=provider.getSigner();registryContract=new Contract(addresses[RINKEBY_ID].registry,abis.registry,signer);_context2.next=6;return registryContract.getRefCode();case 6:refcode=_context2.sent;setRefcode(refcode);setOpen(true);return _context2.abrupt(\"return\",refcode);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _Refcode.apply(this,arguments);}function Register(){return _Register.apply(this,arguments);}function _Register(){_Register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var tx,_provider,signer,registryContract;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;setLoading(true);_provider=new ethers.providers.Web3Provider(window.ethereum);signer=_provider.getSigner();registryContract=new Contract(addresses[RINKEBY_ID].registry,abis.registry,signer);_context3.next=7;return registryContract.register(data.id,data.name);case 7:tx=_context3.sent;_context3.next=10;return _provider.waitForTransaction(tx.hash);case 10:setLoading(false);console.log(tx);_context3.next=17;break;case 14:_context3.prev=14;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 17:setLoading(false);case 18:case\"end\":return _context3.stop();}}},_callee3,null,[[0,14]]);}));return _Register.apply(this,arguments);}var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};return/*#__PURE__*/React.createElement(Grid,{container:true,component:\"main\",className:classes.root},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(Grid,{item:true,xs:false,sm:4,md:7,className:classes.image}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:8,md:5,component:Paper,elevation:6,square:true},/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Avatar,{className:classes.avatar},/*#__PURE__*/React.createElement(LockOutlinedIcon,null)),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Register\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.form,noValidate:true},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"address\",label:\"Ethereum Address\",name:\"address\",value:account,disabled:true}),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"Facebook Id\",label:\"Facebook Id\",id:\"uid\",value:data.id,disabled:true}),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"Facebook Name\",label:\"Facebook Name\",id:\"name\",value:data.name,disabled:true}),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(FacebookLogin,{appId:\"360104115420180\",autoLoad:false,fields:\"name,email\",scope:\"public_profile\",callback:responseFacebook,cssClass:\"my-facebook-button-class\",textButton:\"Connect to Facebook \\uD83E\\uDD7A\",size:\"small\"})),/*#__PURE__*/React.createElement(Button,{fullWidth:true,variant:\"contained\",color:\"primary\",onClick:Register},\"Register\"),/*#__PURE__*/React.createElement(Button,{fullWidth:true,variant:\"contained\",color:\"secondary\",onClick:Refcode,style:{marginTop:'10px'}},\"referral code\")),refcode)));}","map":{"version":3,"sources":["/Users/sychen/thesis-app/packages/react-app/src/components/Pages/RegisterPage.js"],"names":["React","useState","useEffect","Contract","RINKEBY_ID","addresses","abis","Avatar","Button","CssBaseline","TextField","Paper","Box","Grid","LockOutlinedIcon","Typography","makeStyles","ethers","FacebookLogin","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignInSide","classes","provider","providers","Web3Provider","window","ethereum","account","setAccount","login","setLogin","id","name","data","setData","loading","setLoading","open","setOpen","refcode","setRefcode","responseFacebook","response","accessToken","getAccount","signer","getSigner","getAddress","getBalance","balance","Refcode","registryContract","registry","getRefCode","Register","register","tx","waitForTransaction","hash","console","log","handleOpen","handleClose"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Contract } from \"@ethersproject/contracts\";\nimport { RINKEBY_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ethers } from \"ethers\";\n// import FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\nimport FacebookLogin from 'react-facebook-login';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: 'url(https://source.unsplash.com/1600x900/?ethereum)',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInSide() {\n  const classes = useStyles();\n  const provider = new ethers.providers.Web3Provider(window.ethereum)\n  const [account, setAccount] = useState('Please connect to Metamask');\n  const [login, setLogin] = useState(false);\n  const [data, setData] = useState({id:'',name: ''});\n  const [loading, setLoading] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [refcode, setRefcode] = useState('');\n  \n  const responseFacebook = (response) => {\n    setData(response);\n    if (response.accessToken) {\n      setLogin(true);\n    } else {\n      setLogin(false);\n    }\n  }\n  \n  useEffect(() => {\n    async function getAccount() {\n        const signer = provider.getSigner()\n        const account = await signer.getAddress()\n        const balance = await provider.getBalance(account)\n        setAccount(account)\n      }\n      getAccount();\n    }, [])\n    \n\n    async function Refcode() {\n        let refcode;\n        setLoading(true);\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n        const signer = provider.getSigner()\n        const registryContract = new Contract(addresses[RINKEBY_ID].registry, abis.registry, signer);\n        refcode = await registryContract.getRefCode()\n        setRefcode(refcode)\n        setOpen(true)\n        return refcode\n    }\n\n    async function Register() {\n        try {\n            let tx;\n            setLoading(true);\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\n            const signer = provider.getSigner()\n            const registryContract = new Contract(addresses[RINKEBY_ID].registry, abis.registry, signer);\n            tx = await registryContract.register(\n                data.id,\n                data.name\n            );\n          // until transactionHash is mined.\n            await provider.waitForTransaction(tx.hash);\n            setLoading(false);\n            console.log(tx);\n            } catch (err) {\n            console.log(err)\n            }\n            setLoading(false);\n        }\n\n    const handleOpen = () => {\n      setOpen(true);\n    };\n  \n    const handleClose = () => {\n      setOpen(false);\n    };\n      \n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      \n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n      \n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Register\n          </Typography>\n          <form className={classes.form} noValidate >\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"address\"\n              label=\"Ethereum Address\"\n              name=\"address\"\n              value={account}\n              disabled\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"Facebook Id\"\n              label=\"Facebook Id\"\n              id=\"uid\"\n              value={data.id}\n              disabled\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"Facebook Name\"\n              label=\"Facebook Name\"\n              id=\"name\"\n              value={data.name}\n              disabled\n            />\n              <Grid container>\n                <FacebookLogin\n                appId=\"360104115420180\"\n                autoLoad={false}\n                fields=\"name,email\"\n                scope=\"public_profile\"\n                callback={responseFacebook}\n                cssClass=\"my-facebook-button-class\"\n                textButton=\"Connect to Facebook ðŸ¥º\"\n                size=\"small\"\n                />\n                </Grid>\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={Register}\n            >\n              Register\n            </Button>\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={Refcode}\n              style={{marginTop:'10px'}}\n            >\n              referral code\n            </Button>\n          </form>\n          {refcode}\n        </div>\n      </Grid>\n    </Grid>\n  );\n}"]},"metadata":{},"sourceType":"module"}