{"ast":null,"code":"var _jsxFileName = \"/Users/sychen/thesis-app/packages/react-app/src/components/Pages/StakePage.js\";\nimport React, { useState } from \"react\";\nimport Jumbotron from '../Jumbotron';\nimport styled from 'styled-components';\nimport { ethers } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { RINKEBY_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nimport { render } from \"@testing-library/react\"; // function renderList(item) {\n//     allPolicies.map(())\n//     return (\n//             <div className=\"column\">\n//                 <div className=\"segment\">\n//                 </div>\n//             </div>\n//     );\n// }\n\nexport default function StakePage() {\n  const [policies, setPolicies] = useState(0);\n  useEffect(() => {\n    const getPolicies = async () => {\n      let policy, summary;\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider);\n      const policies = await policyFactoryContract.getDeloyedPolicies();\n      const allPolicies = await Promise.all(policies.map((address, index) => {\n        policy = new Contract(address, abis.policy, provider);\n        return policy.getSummary();\n      }));\n      setPolicies(allPolicies);\n    };\n\n    getPolicies();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    title: \"Stake\",\n    description: \"Earn rewards by staking SYC on policies you want to engage.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui three column grid\",\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/sychen/thesis-app/packages/react-app/src/components/Pages/StakePage.js"],"names":["React","useState","Jumbotron","styled","ethers","Contract","RINKEBY_ID","addresses","abis","render","StakePage","policies","setPolicies","useEffect","getPolicies","policy","summary","provider","providers","Web3Provider","window","ethereum","policyFactoryContract","policyFactory","getDeloyedPolicies","allPolicies","Promise","all","map","address","index","getSummary","marginTop"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,QAAT,QAAyB,0BAAzB;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,IAAhC,QAA4C,2BAA5C;AACA,SAASC,MAAT,QAAuB,wBAAvB,C,CAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAGA,eAAe,SAASC,SAAT,GAAqB;AAChC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,CAAD,CAAxC;AAEAY,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMC,WAAW,GAAG,YAAW;AAC3B,UAAIC,MAAJ,EAAYC,OAAZ;AACA,YAAMC,QAAQ,GAAG,IAAIb,MAAM,CAACc,SAAP,CAAiBC,YAArB,CAAkCC,MAAM,CAACC,QAAzC,CAAjB;AACA,YAAMC,qBAAqB,GAAG,IAAIjB,QAAJ,CAAaE,SAAS,CAACD,UAAD,CAAT,CAAsBiB,aAAnC,EAAkDf,IAAI,CAACe,aAAvD,EAAsEN,QAAtE,CAA9B;AACA,YAAMN,QAAQ,GAAG,MAAMW,qBAAqB,CAACE,kBAAtB,EAAvB;AAEA,YAAMC,WAAW,GAAG,MAAMC,OAAO,CAACC,GAAR,CACtBhB,QAAQ,CACHiB,GADL,CACS,CAACC,OAAD,EAAUC,KAAV,KAAoB;AACzBf,QAAAA,MAAM,GAAG,IAAIV,QAAJ,CAAawB,OAAb,EAAsBrB,IAAI,CAACO,MAA3B,EAAmCE,QAAnC,CAAT;AACA,eAAOF,MAAM,CAACgB,UAAP,EAAP;AACF,OAJF,CADsB,CAA1B;AAOAnB,MAAAA,WAAW,CAACa,WAAD,CAAX;AACH,KAdD;;AAeAX,IAAAA,WAAW;AACZ,GAjBM,EAiBJ,EAjBI,CAAT;AAmBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AACA,IAAA,KAAK,EAAC,OADN;AAEA,IAAA,WAAW,EAAC,6DAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAII;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAsC,IAAA,KAAK,EAAE;AAAEkB,MAAAA,SAAS,EAAE;AAAb,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADJ;AASH","sourcesContent":["import React, { useState } from \"react\";\nimport Jumbotron from '../Jumbotron';\nimport styled from 'styled-components';\nimport { ethers } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { RINKEBY_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nimport { render } from \"@testing-library/react\";\n\n\n\n// function renderList(item) {\n//     allPolicies.map(())\n//     return (\n//             <div className=\"column\">\n//                 <div className=\"segment\">\n                    \n//                 </div>\n//             </div>\n//     );\n// }\n\n\nexport default function StakePage() {\n    const [policies, setPolicies] = useState(0);\n\n    useEffect(() => {\n        const getPolicies = async() => {\n            let policy, summary;\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\n            const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider);\n            const policies = await policyFactoryContract.getDeloyedPolicies();\n        \n            const allPolicies = await Promise.all(\n                policies\n                    .map((address, index) => {\n                    policy = new Contract(address, abis.policy, provider);\n                    return policy.getSummary();\n                 }));\n        \n            setPolicies(allPolicies);\n        }\n        getPolicies();\n      }, []);\n      \n    return (\n        <div>\n            <Jumbotron \n            title=\"Stake\" \n            description=\"Earn rewards by staking SYC on policies you want to engage.\" />\n            <div className=\"ui three column grid\" style={{ marginTop: \"20px\" }}>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}