{"ast":null,"code":"var _jsxFileName = \"/Users/sychen/thesis-app/packages/react-app/src/components/Pages/StakeItem.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Jumbotron from '../Jumbotron';\nimport styled from 'styled-components';\nimport { ethers } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { RINKEBY_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nimport { Link } from 'react-router-dom';\nexport default function StakeItem(props) {\n  const [policies, setPolicies] = useState(0);\n  useEffect(() => {\n    const getPolicies = async () => {\n      const provider = new ethers.providers.Web3Provider(window.ethereum);\n      const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider);\n      const policiesAddress = await policyFactoryContract.deployedPolicies(props.match.params.id);\n      const policy = new Contract(policiesAddress, abis.policy, provider);\n      const policyInfo = await policy.getSummary();\n      setPolicies(policyInfo);\n      console.log(policyInfo);\n    };\n\n    getPolicies();\n  }, []); // async function onStake(idx) {\n  //     const provider = new ethers.providers.Web3Provider(window.ethereum);\n  //     const signer = provider.signer();\n  //     const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider);\n  //     const policyAddress = await policyFactoryContract.deployedPolicies(idx);\n  //     const policy = new Contract(policyAddress, abis.policy, signer);\n  //     await policy.createStake()\n  // }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Jumbotron, {\n    title: \"Stake\",\n    description: \"Earn rewards by staking SYC on policies you want to engage.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/sychen/thesis-app/packages/react-app/src/components/Pages/StakeItem.js"],"names":["React","useState","useEffect","Jumbotron","styled","ethers","Contract","RINKEBY_ID","addresses","abis","Link","StakeItem","props","policies","setPolicies","getPolicies","provider","providers","Web3Provider","window","ethereum","policyFactoryContract","policyFactory","policiesAddress","deployedPolicies","match","params","id","policy","policyInfo","getSummary","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,QAAT,QAAyB,0BAAzB;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,IAAhC,QAA4C,2BAA5C;AACA,SAASC,IAAT,QAAqB,kBAArB;AAGA,eAAe,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACrC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,CAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMa,WAAW,GAAG,YAAY;AAC5B,YAAMC,QAAQ,GAAG,IAAIX,MAAM,CAACY,SAAP,CAAiBC,YAArB,CAAkCC,MAAM,CAACC,QAAzC,CAAjB;AACA,YAAMC,qBAAqB,GAAG,IAAIf,QAAJ,CAAaE,SAAS,CAACD,UAAD,CAAT,CAAsBe,aAAnC,EAAkDb,IAAI,CAACa,aAAvD,EAAsEN,QAAtE,CAA9B;AACA,YAAMO,eAAe,GAAG,MAAMF,qBAAqB,CAACG,gBAAtB,CAAuCZ,KAAK,CAACa,KAAN,CAAYC,MAAZ,CAAmBC,EAA1D,CAA9B;AACA,YAAMC,MAAM,GAAG,IAAItB,QAAJ,CAAaiB,eAAb,EAA8Bd,IAAI,CAACmB,MAAnC,EAA2CZ,QAA3C,CAAf;AAEA,YAAMa,UAAU,GAAG,MAAMD,MAAM,CAACE,UAAP,EAAzB;AAGAhB,MAAAA,WAAW,CAACe,UAAD,CAAX;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;AACH,KAXD;;AAYAd,IAAAA,WAAW;AACd,GAdQ,EAcN,EAdM,CAAT,CAHqC,CAoBrC;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAC,OADV;AAEI,IAAA,WAAW,EAAC,6DAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAOH","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Jumbotron from '../Jumbotron';\nimport styled from 'styled-components';\nimport { ethers } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { RINKEBY_ID, addresses, abis } from \"@uniswap-v2-app/contracts\";\nimport { Link } from 'react-router-dom';\n\n\nexport default function StakeItem(props) {\n    const [policies, setPolicies] = useState(0);\n\n    useEffect(() => {\n        const getPolicies = async () => {\n            const provider = new ethers.providers.Web3Provider(window.ethereum)\n            const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider)\n            const policiesAddress = await policyFactoryContract.deployedPolicies(props.match.params.id)\n            const policy = new Contract(policiesAddress, abis.policy, provider)\n\n            const policyInfo = await policy.getSummary()\n\n\n            setPolicies(policyInfo)\n            console.log(policyInfo)\n        }\n        getPolicies();\n    }, []);\n\n\n    // async function onStake(idx) {\n    //     const provider = new ethers.providers.Web3Provider(window.ethereum);\n    //     const signer = provider.signer();\n    //     const policyFactoryContract = new Contract(addresses[RINKEBY_ID].policyFactory, abis.policyFactory, provider);\n    //     const policyAddress = await policyFactoryContract.deployedPolicies(idx);\n    //     const policy = new Contract(policyAddress, abis.policy, signer);\n    //     await policy.createStake()\n\n    // }\n\n    return (\n        <div>\n            <Jumbotron\n                title=\"Stake\"\n                description=\"Earn rewards by staking SYC on policies you want to engage.\" />\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}